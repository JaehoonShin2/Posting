# Network

## IP 주소

IP 주소란 네트워크 환경에서 노드(컴퓨터) 간 통신을 위해 각 컴퓨터에 부여된 네트워크 상의 주소

![](Untitled.png)

빨간 박스에 있는 것이 IP 주소라고 볼 수 있는데, 이 중에서 앞의 3개의 숫자는 네트워크 주소를 의미하고, 마지막 숫자는 나만의 호스트 주소를 의미한다.

해당 사진에서 본다면, `192.168.56` 까지는 네트워크 주소이고, `1` 은 호스트 주소라고 할 수 있다.

`네트워크 주소` 는 공통적인(중복이 발생할 수 있는) 부분이고, `호스트 주소` 는 식별하는(중복이 없는) 부분이다.

**주의해야 할 점은 IP 주소의 클래스마다 네트워크 주소의 옥테드와 호스트 주소의 옥테드가 다르다는 점이다!!!**

즉 인터넷 주소를 마치 인간의 주소라고 생각했을 때, 서울특별시 A구 B로 14 C아파트 103동 까지는 중복이 발생할 수 있는 네트워크 주소이고, 506호 는 식별하는 호스트 주소라고 할 수 있다.

`IP` 주소는 편의를 위해 10진수으로 표기할 뿐, 실제는 32자리의 2진수로 표시되어 있다.

2진수의 8개가 하나의 묶음으로 되고, 해당 묶음을 `옥테드` 라고 부른다. 즉 IP 주소는 4개의 옥테드로 구성되어 있는 셈이다.

## IP 주소의 클래스

`클래스` 란 하나의 IP 주소에서 네트워크  영역과 호스트 영역을 구분하는 방법이자 약속이다.

IP 주소를 3개의 클래스로 나누는 이유는 네트워크의 크기에 따른 구분이다. 하나의 네트워크에서 몇 개의 호스트 IP 까지 가질 수 있는가에 따라 클래스를 구분할 수 있다.

## 종류

IP 주소의 클래스에는 5가지 종류가 존재한다. A클래스, B클래스, C클래스, D클래스, E클래스이다. 일반적으로는 A~C 클래스까지만 알고 있어도 충분하다.

![](img1.daumcdn.jpg)

### A 클래스

하나의 네트워크가 가질 수 있는 호스트 수가 제일 많은 클래스이다.

IP 주소를 32자리 2진수로 표현할 때 맨 앞자리 수가 항상 0 인 경우를 의미한다. 10진수로 표현하자면 `0.0.0.0` ~ `127.255.255.255` 사이의 IP 주소를 의미한다. 

A 클래스의 네트워크는 가장 작은 네트워크인 0.0.0.0 부터 가장 큰 네트워크인 126.0.0.0 까지로 규정되어 있다.

**127~ 로 시작하는 IP 주소는 로컬 주소를 가르키기 때문에 제외된다.**

또한 호스트 주소로 가질 수 있는 갯수는 (2^24) - 2 개이다. 2개가 빠지는 이유는, 모두가 0인 경우에는 네트워크 주소로 사용되고, 모두가 1인 경우에은 브로드캐스트 주소로 사용되기 때문이다.

A클래스는 첫번째 옥테드가 네트워크 주소이고, 나머지 3개의 옥테드가 호스트 주소를 가르킨다.

만약 A클래스로 `22.0.0.0` 네트워크 주소를 할당받았다고 가정한다면, `22` 는 네트워크 주소를 의미한다. 그 후 나머지 `0.0.0` 부분에 호스트 주소를 할당 할 수 있다. 다만 `0.0.0` 과 같이 모두가 0인 경우는 `네트워크 주소를 표기`하기 위함이기 때문에 불가능하고, `13.255.255.255` 의 경우에는 `브로드캐스트 주소`로 사용하기 때문에 불가능하다. 따라서

### B 클래스

B클래스는 2진수로 표현하면 `10` 으로 시작하는 클래스이다.

10진수로 표현하면 `128.0.0.0` ~ `192.255.255.255` 사이의 범위를 의미한다. 

B 클래스에서 네트워크 주소의 범위는 `128.0` ~ `192.255` 까지이고, 호스트 주소는 두 개의 옥테드로 구성되게 된다.

따라서 B 클래스의 호스트 주소의 범위는 (2^16) - 2 개이다.

### C 클래스

C 클래스는 2진수로 표현하면 `110` 으로 시작하는 클래스이다.

10진수로 표현하면 `192.0.0.0` ~ `223.255.255.255` 사이의 범위를 의미한다.

C 클래스에서 네트워크 주소의 범위는 `192.0.0` ~ `223.255.255` 까지의 3개의 옥테드로 구성된다.

따라서 C 클래스의 호스트 주소의 범위는 (2^8) - 2개이다.

 

## 서브넷 마스크

### 서브네팅

네트워크 관리자가 네트워크 성능을 향상시키기 위해 자원을 효율적으로 분배하는 것이다. 여기서 자원의 효율적 분배라 함은 네트워크 영역과 호스트 영역을 분할하는 것을 의미한다. 너무 큰 브로드캐스트 도메인은 네트워크 환경에서 패킷 전송을 느리게 하고 성능 저하를 발생시키다. 따라서 네트워크를 쪼개서 통신 성능을 보장한다. 서브넷마스크는 필요한 네트워크 주소만 호스트 IP 로 할당할 수 있게 만들어 네트워크의 낭비를 방지한다.

**브로드캐스트 도메인** : 라우터와 네트워크장비 없이 통신할 수 있는 영역

***IP의 특징** : 하나의 IP는 네트워크 부분 + 호스트 부분으로 구성되어 있다. 

하나의 네트워크, 즉 하나의 `브로드캐스트 도메인`에 있는 IP끼리 통신하기 위해선 네크워크 영역이 같아야하며, 호스트 IP는 달라야한다. 

호스트 IP가 다르지 않다면 IP 충돌이 나겠죠? 당연히 통신하기 위해선 네트워크 영역이 같아야 한다. 

그런데 네트워크 영역이 다르다고 해서 통신할 수 없는 건 아니다. 

네트워크 영역이 달라도 라우터나 게이트웨이와 같은 통신장비를 통해 통신할 수 있다! 다만 라우터와 네트워크 장비 없이 통신할 수 있는 영역을 우리는 브로드캐스트 도메인이라고 한다. 

하나의 IP 주소에는 당연히 네트워크 영역은 같고, 호스트 IP는 자신의 노드를 식별할 수 있도록 다른 호스트 IP와 다르게 구성되어야 한다. 호스트 IP는 마치 주민번호와 같은것이다. 중복할 될 수 없는 유일무이한 것이기 때문이다.

### 서브넷마스크

어느 한 네트워크에서 1~100까지의 IP 를 할당받을 수 있는데, 실제 필요한 IP 는 20개 정도라고 한다면 굳이 1~100 까지 IP 를 줄 필요가 없다. 20개만 할당하면 충분하다. 

서브넷마스크는 기본적으로 1과 0 으로 구성되어 있다. 또한 서브넷마스크 역시 IP 주소와 마찬가지로 32자리 2진수로 표현되는데, 반드시 1이 연속적으로 등장해야만 한다. 

즉 `11111111.11111111.11111111.00000000` 과 같은 형태를 의미한다. `11011011.01111111.11110111.00000000` 과 같이 중간에 1과 0시 섞이는 형태는 불가능하다. 

서브넷 마스크에서 1의 갯수는 즉 해당 옥테드만큼은 네트워크 영역으로 사용하고, 0의 갯수 부분만 호스트 IP 로 사용하겠다는 의미이다. 

예를 들어 192.168.0.1/24 라는 IP 주소를 뜯어보자.

우선 해당 IP 주소는 C클래스이다 따라서 기본적인 네트워크 주소는 `192.1568.0` 까지이고, 호스트 주소로 사용 가능한 부분은 `1` 이다.  

`/` 뒤에 붙은 24라는 숫자는 서브넷 마스크를 의미한다.  현재는 서브넷마스크를 할당하지 않았기 때문에 디폴트 서브넷마스크로 표시된다.

기본 디폴트 서브넷 마스크는 `255.255.255.0` , 10진수로 변환하면 24이다. 여기서 24라는 말은 연속된 1의 갯수가 24개(8*3) 라는 의미이다.

IP 주소와 서브넷마스크를 나열해보면 다음과 같다.

![](9889.png)

이 경우, 서브넷마스크의 연속되는 1이 어디서 끝나는지를 보면 C클래스 IP 주소의 defualt 네트워크 주소 영역인 세번째 옵테드, 즉 `192.168.0` 까지 가르키고 있는 것을 확인할 수 있다. 그렇기 때문에 C클래스의 디폴트 서브넷 마스크는 255.255.255.0 이 되는 것이다.

또한 서브넷 네트워크는 IP 주소와 서브넷마스크를 논리 AND 연산 하면 구할 수 있다.

다시말해 B클래스에 의해서 150.150 까지가 네트워크 영역이고 나머지 3,4번째 옥태드가 호스트 영역인데, C클래스 기본 서브넷마스크인 255.255.255.0을 씌우면서 150.150.100까지 네트워크영역이 되고 4번째 옥태드만 호스트 IP를 배정할 수 있게 만든 것 입니다.

**즉 네트워크 영역을 늘리고 호스트 영역을 줄이겠다는 뜻을 내포하고 있다는 것을 여러분은 눈치채셔야 합니다.** 이렇게 하나의 주소에 서브넷 마스크를 씌워서 자신에게 맞는 네트워크를 만드는 것을 서브네팅이라고 합니다. **(참고로 서브넷마스크로 나뉘어진 서브넷네트워크간 통신은 라우터를 통해서 통신이 되어야 합니다. 다른 말로 서브넷네트워크는 하나의 독립적인 네트워크 입니다.)**

## OSI 7 계층

OSI 7계층이란, 통신이 일어나는 과정을 7단계로 나누고 표준화시킨 것을 의미한다.

이러한 표준화의 이유는 크게 3가지가 존재한다.

1. 데이터의 흐름을 한 눈에 볼 수 있다.
2. 문제를 해결하기 편하다.
3. 여러 장비를 사용해도 네트워크 간의 호환이 된다.


![](321.jpg)

### 1계층 : 물리계층

주로 전기적, 기계적, 기능적 특성을 이용해 통신 케이블로 데이터를 전송하게 된다.

이 계층에서는 단지 데이터를 전달만 할 뿐 전송하려는 데이터가 무엇인지 ,어떤 에러가 있는지 등은 전혀 신경쓰지 않는다.

### 2계층 : 데이터링크 계층

노드 간 데이터 전송을 제공하며, 물리 계층의 오류 수정도 처리한다. 여기에는 2개의 부계층이 존재하는데, 하나는 `매체 접근 제어(MAC) 계층`이고, 하나는 `논리적 연결 제어(LLC) 계층`이다.

### 3계층 : 네트워크 계층

`라우터` 기능의 대부분이 여기 네트워크 계층에 속한다. 여러 라우터를 통한 라우팅을 비롯해 `패킷` 전달을 담당한다.

라우팅이란 데이터를 목적직까지 가장 안전하고 빠르게 전달하도록 하는 것을 의미한다.  

예를 들면, 보스턴에 있는 컴퓨터가 캘리포니아에 있는 서버에 연결하려고 하면 그 경로는 수백 만 가지이다. 이 계층의 라우터가 이 작업을 효율적으로 처리한다.

### 4계층 : 트랜스포트 계층(전송 계층)

최종 시스템 및 호스트 간의 데이터 전송 조율을 담당한다. 보낼 데이터의 용량과 속도, 목적지 등을 처리하는데, 전송 계층의 예 중에서 가장 잘 알려진 것이 `TCP`(Transmisstion conrtroll protocol), `전송 제어 프로토콜`이다. 

** 3계층과 4계층의 구분 **

간단히 생각하면, 3계층은 내 집을 찾아가는 개념. 즉 IP 주소를 바탕으로 어떤 네트워크 주소+호스트 주소가 내 집 인지를 구분하는 것.

4계층은 그렇게 해서 접속한 내 집에서 어떤 방인지 구분하는 것. 프로그램으로 치다면, PC 에서 응용 프로그램이 구동될 때는 포트번호를 가지고 해당 프로그램을 구분하게 되는데, 해당 프로그램이 어디에 있는지, 무엇인지를 구분하는 것이 4계층의 역할이다. 

[TCP/IP](https://www.notion.so/TCP-IP-d38a3c95b34348d69a3921fa03bbd34f?pvs=21)

### 5계층 : 세션 계층

2대의 기기, 컴퓨터 또는 서버 간의 통신을 위해서는 세션이 필요한데, 그 작업이 이 계층에서 처리된다. 이 계층에는 설정, 조율, 세션의 가장 마지막에 응용 프로그램 간의 종료 등의 기능이 필요하다.

### 6계층 : 프레젠테이션 계층(표현 계층)

응용 계층의 데이터 표현에서 독립적인 부분을 나타낸다. 일반적으로 응용프로그램 형식을 준비 또는 네트워크 형식으로 변환하거나 네트워크 형식을 응용 프로그램 형식으로 변환하는 것을 나타낸다.

즉 응용 프로그램이나 네트워크를 위해 데이터를 표현하는 것이다. 

예로는 데이터를 안전하게 전송하기 위해 `암호화/복호화` 작업 등이 있을 수 있다.

### 7계층 : 애플리케이션 계층(응용 계층)

간단하게 정의하면 사용자에게 보이는 부분이자, 사용자와 직접적으로 상호작용하는 부분이다.